<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Ajax</title>
  </head>
  <body>
      <button onclick=showCountries()>Show Countries</button>
      <div id="feed"></div>

      <script>
        function showCountries() {
          let xhr = new XMLHttpRequest();

          // Intializing the requst

          xhr.open('GET', 'https://restcountries.com/v2/all', true);

          // Handling the response with .onload and callback function

          xhr.onload = function() {
            if (xhr.status == 200) {
              console.log('success');
              let countries = JSON.parse(this.response);
              console.log(countries);
              countries.forEach(country => {
                const countryCard = document.createElement('div');
                const countryCardImage = document.createElement('img');
                countryCard.innerHTML = country.name;
                countryCardImage.src = country.flag;
                countryCard.appendChild(countryCardImage);
                document.getElementById('feed').appendChild(countryCard);

              })
            }
          }

          // Sending the request
          xhr.send();

        }
      </script>
  </body>
</html>